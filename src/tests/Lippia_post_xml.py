import requests
import warnings
from requests.packages.urllib3.exceptions \
import InsecureRequestWarning
warnings.simplefilter('ignore',InsecureRequestWarning)

url = "https://reportserver-api.k8sds.gscorp.ad/junitxml/pytest/Recaudaciones/Prueba9"

payload = "<testsuite name=\"Publica_Manual_deuda.Publicacion deuda manual\" tests=\"1\" errors=\"1\" failures=\"0\" skipped=\"0\" time=\"28.709808\" timestamp=\"2020-10-19T16:15:37.641185\" hostname=\"LAPTOP-6J6TU9UN\"><testcase classname=\"Publica_Manual_deuda.Publicacion deuda manual\" name=\"Login y generacion comprobante manual\" status=\"failed\" time=\"28.709808\"><error type=\"TimeoutException\" message=\"Message: &#10;\">\r\n<![CDATA[\r\nFailing step: Then Valido campo Solic_Pago con Esta solicitud vence en 48 horas. ... failed in 21.095s\r\nLocation: features/Publica_Manual_deuda.feature:26\r\nTraceback (most recent call last):\r\n  File \"c:\\python38\\lib\\site-packages\\behave\\model.py\", line 1329, in run\r\n    match.run(runner.context)\r\n  File \"c:\\python38\\lib\\site-packages\\behave\\matchers.py\", line 98, in run\r\n    self.func(context, *args, **kwargs)\r\n  File \"features\\steps\\Steps.py\", line 60, in step_impl\r\n    Selenium.assert_text(self, locator, text)\r\n  File \"C:\\Supervielle\\Recaudaciones\\src\\functions\\Functions.py\", line 658, in assert_text\r\n    wait.until(EC.presence_of_element_located((By.XPATH, self.json_ValueToFind)))\r\n  File \"c:\\python38\\lib\\site-packages\\selenium\\webdriver\\support\\wait.py\", line 80, in until\r\n    raise TimeoutException(message, screen, stacktrace)\r\nselenium.common.exceptions.TimeoutException: Message: \r\n\r\n\r\nCaptured stdout:\r\nDirectorio Base: C:\\Supervielle\\Recaudaciones\\src\r\n----------------\r\nCHROME\r\n---------------\r\nget_json_file: C:\\Supervielle\\Recaudaciones\\src/pages/recaudaciones.json\r\nEsperar_Elemento: Se visualizo el elemento Identificacion\r\nget_elements: //input[contains(@id,'identification')]\r\nget_elements: //input[contains(@id,'identification')]\r\nEsperar_Elemento: Se visualizo el elemento Password\r\nget_elements: //input[contains(@id,'password')]\r\nget_elements: //input[contains(@id,'password')]\r\nget_elements: //button[contains(@id,'btn_ingresar')]\r\nget_elements: //small[@id='empresa-seleccionada-nombre']\r\nget_elements: //li[@data-option-index=0]\r\nget_elements: //a[@href='#'][contains(.,'Cobros')]\r\nget_elements: (//a[@class='ember-view'][contains(.,'Manual')])[3]\r\nEsperar_Elemento: Se visualizo el elemento Descripcion\r\nget_elements: //input[contains(@id,'descripcion')]\r\nget_elements: //input[contains(@id,'descripcion')]\r\nEsperar_Elemento: Se visualizo el elemento Importe\r\nget_elements: //input[contains(@id,'importe')]\r\nget_elements: //input[contains(@id,'importe')]\r\nEsperar_Elemento: Se visualizo el elemento Numero Documento\r\nget_elements: //input[contains(@id,'numeroDocumentoPagador')]\r\nget_elements: //input[contains(@id,'numeroDocumentoPagador')]\r\nEsperar_Elemento: Se visualizo el elemento Nombre Pagador\r\nget_elements: //input[contains(@id,'nombrePagador')]\r\nget_elements: //input[contains(@id,'nombrePagador')]\r\nEsperar_Elemento: Se visualizo el elemento Email\r\nget_elements: //input[contains(@type,'email')]\r\nget_elements: //input[contains(@type,'email')]\r\nget_elements: //button[@type='button'][contains(.,'Publicar')]]]>\r\n</error><system-out>\r\n<![CDATA[\r\n@scenario.begin\r\n  Scenario: Login y generacion comprobante manual\r\n    Given Abrir la aplicacion ... passed in 5.284s\r\n    And Cargo el DOM de la App: recaudaciones ... passed in 0.001s\r\n    And En el campo Identificacion escribo andrusaba ... passed in 0.093s\r\n    And En el campo Password escribo Info1212 ... passed in 0.086s\r\n    And Hago clic en Boton Ingresar ... passed in 0.041s\r\n    And Esperar que finalice la carga ... passed in 0.001s\r\n    And Hago clic en Selecciona Empresa ... passed in 0.759s\r\n    And Hago clic en Selecciona Vademecum ... passed in 0.071s\r\n    And Hago clic en Boton Cobro ... passed in 0.063s\r\n    And Hago clic en Boton Manual ... passed in 0.088s\r\n    And Esperar que finalice la carga ... passed in 0.001s\r\n    And En el campo Descripcion escribo Prueba automatica ... passed in 0.635s\r\n    And En el campo Importe escribo 899024 ... passed in 0.109s\r\n    And En el campo Numero Documento escribo 18163839 ... passed in 0.112s\r\n    And En el campo Nombre Pagador escribo Claudio Gioria ... passed in 0.120s\r\n    And En el campo Email escribo crgioria@gmail.com ... passed in 0.116s\r\n    When Hago clic en Boton Publicar ... passed in 0.035s\r\n    And Esperar que finalice la carga ... passed in 0.001s\r\n    Then Valido campo Solic_Pago con Esta solicitud vence en 48 horas. ... failed in 21.095s\r\n    And Escribo Link Pago ... skipped in 0.000s\r\n    And Capturo pantalla: Deuda ... skipped in 0.000s\r\n    And Tomar Captura: LinkDeuda ... skipped in 0.000s\r\n    And cierro la app ... skipped in 0.000s\r\n\r\n@scenario.end\r\n--------------------------------------------------------------------------------\r\n\r\nCaptured stdout:\r\nDirectorio Base: C:\\Supervielle\\Recaudaciones\\src\r\n----------------\r\nCHROME\r\n---------------\r\nget_json_file: C:\\Supervielle\\Recaudaciones\\src/pages/recaudaciones.json\r\nEsperar_Elemento: Se visualizo el elemento Identificacion\r\nget_elements: //input[contains(@id,'identification')]\r\nget_elements: //input[contains(@id,'identification')]\r\nEsperar_Elemento: Se visualizo el elemento Password\r\nget_elements: //input[contains(@id,'password')]\r\nget_elements: //input[contains(@id,'password')]\r\nget_elements: //button[contains(@id,'btn_ingresar')]\r\nget_elements: //small[@id='empresa-seleccionada-nombre']\r\nget_elements: //li[@data-option-index=0]\r\nget_elements: //a[@href='#'][contains(.,'Cobros')]\r\nget_elements: (//a[@class='ember-view'][contains(.,'Manual')])[3]\r\nEsperar_Elemento: Se visualizo el elemento Descripcion\r\nget_elements: //input[contains(@id,'descripcion')]\r\nget_elements: //input[contains(@id,'descripcion')]\r\nEsperar_Elemento: Se visualizo el elemento Importe\r\nget_elements: //input[contains(@id,'importe')]\r\nget_elements: //input[contains(@id,'importe')]\r\nEsperar_Elemento: Se visualizo el elemento Numero Documento\r\nget_elements: //input[contains(@id,'numeroDocumentoPagador')]\r\nget_elements: //input[contains(@id,'numeroDocumentoPagador')]\r\nEsperar_Elemento: Se visualizo el elemento Nombre Pagador\r\nget_elements: //input[contains(@id,'nombrePagador')]\r\nget_elements: //input[contains(@id,'nombrePagador')]\r\nEsperar_Elemento: Se visualizo el elemento Email\r\nget_elements: //input[contains(@type,'email')]\r\nget_elements: //input[contains(@type,'email')]\r\nget_elements: //button[@type='button'][contains(.,'Publicar')]\r\n\r\n]]>\r\n</system-out></testcase></testsuite>"
headers = {
    'Content-Type': 'application/xml'
}

response = requests.request("POST", url, headers=headers, data = payload, verify=False)

print(response.text.encode('utf8'))
